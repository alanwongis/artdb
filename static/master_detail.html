<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!-- Angular Material style sheet -->
		<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css" />
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


		<link rel="stylesheet" href="/static/style.css" />
		
		<title>Master/Detail</title>
	
	</head>



	<body ng-app="BlankApp" ng-controller="artworkListController" layout="column"> 

		<!--
    Your HTML content here
  -->  
  
  <!--
		<md-nav-bar md-selected-nav-item="currentNavItem" nav-bar-aria-label="navigation links">
			<md-nav-item md-nav-click="goto('page1')" name="page1">
        Artworks
			</md-nav-item>
			<md-nav-item md-nav-click="goto('page2')" name="page2">
        Consignments
			</md-nav-item>
			<md-nav-item md-nav-click="goto('page3')" name="page3">
        Sales
			</md-nav-item>
		</md-nav-bar>
-->



		<md-toolbar layout="row">
			<div class="md-toolbar-tools" flex="10">
				<md-icon aria-label="Menu" class="material-icons">menu</md-icon>
			</div>
			<h3 flex="90">Artworks</h3>

		</md-toolbar>

		<div layout="row" flex>

			<md-sidenav class="md-sidenav-left" md-component-id="left"  md-whiteframe="4">

				<md-toolbar class="md-theme-indigo">
					<h1 class="md-toolbar-tools">Sidenav Left</h1>
				</md-toolbar>

				<md-content layout-padding>
					<p>There will be a search field here</p>
				</md-content>

			</md-sidenav>

			<md-content flex="33" layout-padding>

				<md-list-item class="md-3-line" ng-repeat="x in artwork_list" ng-click="null" layout-margin layout-padding>
					
					<img ng-src="\static\thumbs\{{x[3]}}_tb.jpg" class="art-thumb" style="size: 50%;" >
					<div class="md-list-item-text" layout="column" flex="75">
						<h3>{{x[1]}}</h3>
						<p>{{x[2]}}</p>
					</div>    
				</md-list-item>
			</md-content>

			
			<md-content id="details_pane" flex="66" layout="column" layout-align="center" >
			
				<div flex layout="row" layout-align="center">
					<md-button>Sell</md-button>
					<md-button>Consign</md-button>
					<md-button>Relocate</md-button>
					<md-button>Edit</md-button>
				</div>
	
				<md-card flex layout-margin layout-padding>
					<img ng-src="\static\images\{{curr_img_hash}}.jpg"  style="width:80%; height:80%" />
				</md-card>
				
				<div layout-gt-sm="row" layout="column" flex layout-padding>
					<div flex layout-wrap layout="row">
						<div flex="33">Title</div>
						<div flex="66">{{curr_title}}</div>
						<div flex="33">Date</div>
						<div flex="66">{{curr_date}}</div>
						<div flex="33">Medium</div>
						<div flex="66">Oil on Canvas</div>
						<div flex="33">Dimensions</div>
						<div flex="66">11x8x1</div>						
					</div>
					<div flex layout-wrap layout="row">
						<div flex="33">Status</div>
						<div flex="66">{{curr_status}}</div>
						<div flex="33">Location</div>
						<div flex="66">Home</div>
						<div flex="33">Buyer/Consignee</div>
						<div flex="66">None</div>
						<div flex="33">Consign/Sell Date</div>
						<div flex="66">None</div>
					</div>
				</div>
				
				<div  flex layout="column" layout-padding>
					<div flex>Notes</div>
					<div flex>This is a set of notes about this wonderful painting. I could go on and on about this piece of art...</div>
				</div>
				
<!--				
				<md-card flex layout-align="center fill" layout-margin>
				<table flex layout-fill>
				<tr>
					<th>Title</th>
					<td>A Painting</td>
					<th>Status</th>
					<td>Available</td>
				</tr>
				<tr>
					<th>Date</th>
					<td>June 1, 2010</td>
					<th>Location</th>
					<td>Home</td>
				</tr>
				<tr>
					<th>Dimensions</th>
					<td>11x8x1</td>
					<th>Buyer/Consignee</th>
					<td>None</td>
				</tr>
				<tr>
					<th>List Price</th>
					<td>$100</td>
					<th>Sale/Consign Date</th>
					<td>None</td>
				</tr>
				<tr>
					<th>Notes</th>
					<td colspan="3">This is such a great painting that I want to have it on my wall</td>
				</tr>
				</table>

-->
				</md-card>
				

			</md-content>

		</div>


		<!-- Angular Material requires Angular.js Libraries -->
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
		
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

		<!-- Angular Material Library -->
		<script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>


		<!-- Your application bootstrap  -->
		<script>

    /**
     * You must include the dependency on 'ngMaterial' 
     */
	 
	 // init the app
    angular.module('BlankApp', ['ngMaterial', 'BlankApp.services', 'BlankApp.controllers']);
	
/**
    app.controller("myCtrl", function($scope, $http) {
        $http.get("/api/artwork").then(function(response) {
            $scope.products = response.data;
			var first_rec = response.data[0];
			$scope.curr_id = first_rec[0];
        });
    });

*/	
	
	// init any services
	
	angular.module('BlankApp.services', [])
		.factory('artworkService', function($http) {
			var artworkAPI = {};
			
			artworkAPI.get_all = function() {
				return $http({
					method: 'GET',
					url: '/api/artwork'
				});
			}
			
			artworkAPI.get_by_id = function(ident) {
				return $http({
					method: 'GET',
					url: '/api/artwork/'+ident
				});
			}
			
			return artworkAPI;
		});

		
	
	//init any  controllers
	
	angular.module('BlankApp.controllers', [])
		.controller('artworkListController', function($scope,  artworkService) {
			$scope.name_filter = null;
			$scope.artwork_list = [];
			artworkService.get_all().success(function(response) {
				$scope.artwork_list = response;
				$scope.curr_title = response[0][1];
				$scope.curr_date = response[0][2];
				$scope.curr_img_hash = response[0][3];
				$scope.curr_status = response[0][4];
			});
		});
	
	
	
	
	
	
		</script>

	</body>

</html>

